# History
HISTFILE=~/.histfile
HISTSIZE=10000
SAVEHIST=10000
bindkey -e

# Completion
zstyle :compinstall filename '/home/{{ target_user }}/.zshrc'
autoload -Uz compinit
compinit

# SUDO_ASKPASS
{% if ansible_os_family != 'Darwin' %}
export SUDO_ASKPASS="$HOME/.local/bin/sudo-askpass"
{% endif %}

# Jira CLI
{% if jira_api_token is defined %}
export JIRA_API_TOKEN="{{ jira_api_token }}"
{% endif %}

# PATH
export PATH="$HOME/.local/bin:$PATH"

# Aliases
alias ll='ls -la'
alias la='ls -a'

# Infra repo management
alias infra='cd ~/.infra'

# Git
alias g='git'
alias ga='git add'
alias gaa='git add --all'
alias gc='git commit --verbose'
alias gcmsg='git commit --message'
alias gcam='git commit --all --message'
alias gca!='git commit --verbose --all --amend'
alias gco='git checkout'
alias gcb='git checkout -b'
alias gcm='git checkout main'
alias gd='git diff'
alias gds='git diff --staged'
alias gf='git fetch'
alias gl='git pull'
alias gp='git push'
alias gpf='git push --force-with-lease'
alias gpsup='git push --set-upstream origin $(git branch --show-current)'
alias gst='git status'
alias gss='git status --short'
alias glog='git log --oneline --decorate --graph'
alias gloga='git log --oneline --decorate --graph --all'
alias gsta='git stash push'
alias gstp='git stash pop'
alias gstl='git stash list'
alias grb='git rebase'
alias grbi='git rebase --interactive'
alias grbm='git rebase main'
alias grbc='git rebase --continue'
alias grba='git rebase --abort'
alias gm='git merge'
alias gb='git branch'
alias gbd='git branch --delete'

# Kubectl
alias k='kubectl'
alias kaf='kubectl apply -f'
alias keti='kubectl exec -ti'
alias kdel='kubectl delete'
alias kdelf='kubectl delete -f'
alias kgp='kubectl get pods'
alias kgpw='kubectl get pods --watch'
alias kgpwide='kubectl get pods -o wide'
alias kdp='kubectl describe pods'
alias kl='kubectl logs'
alias klf='kubectl logs -f'
alias kgs='kubectl get svc'
alias kgd='kubectl get deployment'
alias kdd='kubectl describe deployment'
alias krrd='kubectl rollout restart deployment'
alias kgns='kubectl get namespaces'
alias kcn='kubectl config set-context --current --namespace'
alias kcuc='kubectl config use-context'
alias kcgc='kubectl config get-contexts'
alias kga='kubectl get all'
alias kgno='kubectl get nodes'
alias kpf='kubectl port-forward'

# Starship prompt
eval "$(starship init zsh)"
